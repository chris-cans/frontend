(()=>{"use strict";var s=document.getElementById("numDocs"),i=document.getElementById("fetchBtn"),e=document.getElementById("deleteBtn"),t=document.getElementById("fetching-data"),n=document.getElementById("deleting-data"),a=document.getElementById("fetching-progress"),c=document.getElementById("write-database-progress"),l=document.getElementById("deleting-progress"),d=document.getElementById("api-ip");function o(s){var i=[];s.classList.forEach((function(s){i.push(s)})),i.forEach((function(i){return s.classList.remove(i)}))}e.addEventListener("click",(function(){return function(){t.classList.contains("visible")&&t.classList.remove("visible"),!t.classList.contains("invisible")&&t.classList.add("invisible"),n.classList.contains("invisible")&&n.classList.remove("invisible"),!n.classList.contains("invisible")&&n.classList.add("visible"),l.classList.add("spinner-active");try{fetch(d.value,{method:"DELETE",headers:{}}).then((function(s){console.log(s),200===(null==s?void 0:s.status)?(o(l),l.classList.add("checkmark")):(o(l),l.classList.add("spinner-fail"))})).catch((function(s){console.log("Failed to Delete"),o(l),l.classList.add("spinner-fail")}))}catch(s){o(l),l.classList.add("spinner-fail")}}()})),i.addEventListener("click",(function(){var i=+s.value;t.classList.contains("invisible")&&t.classList.remove("invisible"),!t.classList.contains("visible")&&t.classList.add("visible"),n.classList.contains("visible")&&n.classList.remove("visible"),!n.classList.contains("invisible")&&n.classList.add("invisible");var e=0,l=!1,r=function(){var s=[];o(a),o(c),a.classList.add("spinner-inactive"),c.classList.add("spinner-inactive");var t=i-e<5e3?i-e:5e3;try{fetch("https://randomuser.me/api/?results="+t).then((function(s){if(o(a),a.classList.add("spinner-active"),200===s.status)return s.json();throw console.log("======================="),"something weird happend."})).catch((function(){o(a),a.classList.add("spinner-fail"),t=i+1,l=!0})).then((function(i){return null!=i?(o(a),o(c),a.classList.add("checkmark"),c.classList.add("spinner-active"),s.push.apply(s,i.results),i):void 0})).catch((function(){o(c),c.classList.add("spinner-fail"),t=i+1,l=!0})).then((function(i){var e,t;null!=i&&(e=s,t=!0,o(c),c.classList.add("spinner-active"),fetch(d.value,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).catch((function(s){o(c),c.classList.add("spinner-fail"),console.log(s),t=!1})),t?(o(c),c.classList.add("checkmark"),l=!0):(o(c),c.classList.add("spinner-fail")))}))}catch(s){o(a),o(c),a.classList.add("spinner-failed"),c.classList.add("spinner-failed")}e+=t};do{r()}while(!l&&e<i)}))})();